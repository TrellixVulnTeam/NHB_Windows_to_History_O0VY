{"version":3,"sources":["images/logo-roots-black.svg","Header.js","http-common.js","Button.js","UploadForm.js","images/NHB_Master_Logo_White_RGB.png","Footer.js","index.js","images/Roots_Favicon.png"],"names":["Header","id","className","icon","faBars","fixedWidth","src","headerLogo","alt","faSync","axios","create","baseURL","window","location","origin","headers","Button","props","type","rest","text","UploadForm","useState","uploads","updateUploads","isUploading","setUploading","filesUploaded","setUploaded","useEffect","every","currVal","progress","filesToUpload","entries","idx","file","onUploadProgress","formData","FormData","append","http","post","sendUpload","event","updatedUploadInfo","Math","round","loaded","total","then","response","data","uploadSuccess","catch","error","encType","onSubmit","preventDefault","accept","multiple","onChange","target","files","push","disabled","htmlFor","onClick","document","getElementById","reset","length","filter","upload","map","URL","createObjectURL","name","style","width","Footer","href","footerLogo","App","ReactDOM","render","StrictMode","url"],"mappings":"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","file":"static/js/main.04d6555a.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo-roots-black.017a5672.svg\";","import {FontAwesomeIcon} from '@fortawesome/react-fontawesome';\r\nimport {faBars, faSync} from '@fortawesome/free-solid-svg-icons';\r\n\r\nimport headerLogo from './images/logo-roots-black.svg';\r\nimport './styles/Header.css';\r\n\r\nconst Header = () => {\r\n  return <header id='outer-header' className='container'>\r\n    <header id='inner-header'>\r\n      <FontAwesomeIcon className='header-icons' icon={faBars} fixedWidth/>\r\n      <img id='header-logo' src={headerLogo} alt='ROOTS'/>\r\n      <FontAwesomeIcon className='header-icons' icon={faSync} fixedWidth/>\r\n    </header>\r\n  </header>;\r\n};\r\n\r\nexport default Header;\r\n","import axios from 'axios';\r\n\r\nexport default axios.create({\r\n  baseURL: window.location.origin,\r\n  headers: {\r\n    'Content-type': 'application/json'\r\n  }\r\n});\r\n","import './styles/Button.css';\r\n\r\nconst Button = (props) => {\r\n  const {type, ...rest} = props;\r\n\r\n  return <button className='button' type={type ? type : 'button'} {...rest}>{props.text}</button>;\r\n};\r\n\r\nexport default Button;","import {useState, useEffect} from 'react';\r\n\r\nimport http from './http-common';\r\nimport Button from \"./Button\";\r\n\r\nimport './styles/UploadForm.css';\r\n\r\nconst UploadForm = () => {\r\n  const [uploads, updateUploads] = useState([]);\r\n  const [isUploading, setUploading] = useState(false);\r\n  const [filesUploaded, setUploaded] = useState(false);\r\n\r\n  const sendUpload = (file, onUploadProgress) => {\r\n    const formData = new FormData();\r\n    formData.append('file', file);\r\n\r\n    return http.post('/api/uploadFile', formData, {\r\n      headers: {\r\n        'Content-Type': 'multipart/form-data'\r\n      },\r\n      onUploadProgress\r\n    });\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (isUploading) {\r\n      const uploadComplete = uploads.every((currVal) => currVal.progress === 100);\r\n      if (uploadComplete) {\r\n        setUploading(false);\r\n        setUploaded(true);\r\n      }\r\n    }\r\n  }, [uploads]);\r\n\r\n  useEffect(() => {\r\n    if (isUploading) {\r\n      const filesToUpload = [...uploads];\r\n      for (const [idx, upload] of filesToUpload.entries()) {\r\n        sendUpload(upload.file, (event) => {\r\n          const updatedUploadInfo = [...uploads];\r\n          updatedUploadInfo[idx].progress = Math.round(100 * event.loaded / event.total);\r\n          updateUploads(updatedUploadInfo);\r\n        })\r\n            .then(response => {\r\n              const data = response.data;\r\n              const updatedUploadInfo = [...uploads];\r\n              updatedUploadInfo[idx].uploadSuccess = data.uploadSuccess;\r\n              updateUploads(updatedUploadInfo);\r\n            })\r\n            .catch(error => {\r\n              const updatedUploadInfo = [...uploads];\r\n              updatedUploadInfo[idx].error = error;\r\n              updatedUploadInfo[idx].uploadSuccess = false;\r\n              updateUploads(updatedUploadInfo);\r\n            });\r\n      }\r\n    }\r\n  }, [isUploading]);\r\n\r\n  const handleFormSubmit = (event) => {\r\n    event.preventDefault();\r\n    setUploading(true);\r\n  };\r\n\r\n  const handleUploadSelect = (event) => {\r\n    const filesToUpload = [];\r\n    for (const file of event.target.files) {\r\n      filesToUpload.push({\r\n        file: file,\r\n        progress: 0,\r\n        uploadSuccess: null\r\n      });\r\n    }\r\n    updateUploads(filesToUpload);\r\n    setUploaded(false);\r\n  };\r\n\r\n  const handleClearClick = () => {\r\n    document.getElementById('upload-form').reset();\r\n    updateUploads([]);\r\n    setUploaded(false);\r\n  };\r\n\r\n  return <main id='upload-form-main' className='container'>\r\n    <form id='upload-form' encType='multipart/form-data' onSubmit={handleFormSubmit}>\r\n      <div id='form-header'>\r\n        <div id='form-button-group'>\r\n          <input type='file' id='upload-input' accept='image/*' multiple onChange={handleUploadSelect} disabled={isUploading}/>\r\n          <label htmlFor='upload-input' id='upload-input-label' className='button'>Select Images</label>\r\n          <Button text='Clear All' onClick={handleClearClick} disabled={uploads.length === 0 || isUploading}/>\r\n          <Button text='Upload' type='submit' disabled={uploads.length === 0 || filesUploaded || isUploading}/>\r\n        </div>\r\n        {uploads.length > 0 ? <div id='selection-count'>{\r\n          isUploading || filesUploaded ? `${uploads.filter(upload => upload.progress === 100).length} / ${uploads.length} uploads complete` :\r\n              `${uploads.length} ${uploads.length === 1 ? 'image' : 'images'} selected`\r\n        }</div> : <></>}\r\n      </div>\r\n      <div id='file-list'>{\r\n        uploads.length === 0 ? <div id='no-file-text'>No files currently selected for upload.</div> : uploads.map((upload) => {\r\n          return <article key={upload.file.name} className='upload-preview'>\r\n            <img src={URL.createObjectURL(upload.file)} alt={upload.file.name}/>\r\n            <div className='preview-divs'>\r\n              <div>{upload.file.name}</div>\r\n              {upload.uploadSuccess !== false && (isUploading || filesUploaded) ? <div className='progress-status'>\r\n                <div className='progress-text'>{upload.progress}%</div>\r\n                <div className='progress-bar'><div style={{width: `${upload.progress}%`}} /></div>\r\n              </div> : <></>}\r\n              {upload.uploadSuccess !== null ? <div>\r\n                {upload.uploadSuccess ? 'Upload successful. Image annotation will begin running in the background.' :\r\n                    `Upload failed: ${upload.error}`}\r\n              </div> : <></>}\r\n            </div>\r\n          </article>;\r\n        })\r\n      }</div>\r\n    </form>\r\n  </main>;\r\n};\r\n\r\nexport default UploadForm;\r\n","export default __webpack_public_path__ + \"static/media/NHB_Master_Logo_White_RGB.3793022d.png\";","import './styles/Footer.css';\r\nimport footerLogo from './images/NHB_Master_Logo_White_RGB.png';\r\nconst Footer = () => {\r\n  return <footer>\r\n    <div id='footer-link-group'>\r\n      <a href='/'>Browse</a>\r\n      <a href='/'>Upload</a>\r\n    </div>\r\n    <img id='footer-logo' src={footerLogo} alt='NHB'/>\r\n  </footer>;\r\n};\r\n\r\nexport default Footer;\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport Favicon from 'react-favicon';\n\nimport Header from \"./Header\";\nimport UploadForm from \"./UploadForm\";\nimport Footer from \"./Footer\";\n\nimport favicon from './images/Roots_Favicon.png';\nimport './styles/index.css';\n\nconst App = () => {\n  return <>\n    <Header/>\n    <UploadForm/>\n    <Footer/>\n  </>;\n};\n\nReactDOM.render(\n  <React.StrictMode>\n    <Favicon url={favicon}/>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('react-root')\n);\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAIAAAD8GO2jAAABNWlDQ1BBZG9iZSBSR0IgKDE5OTgpAAAokZWPv0rDUBSHvxtFxaFWCOLgcCdRUGzVwYxJW4ogWKtDkq1JQ5XSJNxc//QhHN06uLj7BE6OgoPiE/gGilMHhwjBqfSbvvPjcDg/MCp23WkYZRjEWrWbjnQ9X86/MscMAHTCLLVbrSOAOIkj/iPg5wMB8LZt150G07EYpkoDY2C3G2UhiArQv9apBjECzKCfahCPgKnO2jUQz0Cpl/s7UApy/wRKyvV8EN+A2XM9H4wFwAxyXwNMHd1ogFqSDtVF71zLqmVZ0u4mQSRPh5mOBpk8jMNEpYnq6KgL5P8BsJwvtpuO3Kha1sHmlL0n4nq+zO3rBAGIlZciKwgv1dWfCmNv8lzcGK3C8QPMjots/xbut2DprsjWq1DegafRL8KzT/57sqVFAAAACXBIWXMAAAsTAAALEwEAmpwYAAAF9mlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNi4wLWMwMDIgNzkuMTY0MzUyLCAyMDIwLzAxLzMwLTE1OjUwOjM4ICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtbG5zOnhtcE1NPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvbW0vIiB4bWxuczpzdEV2dD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL3NUeXBlL1Jlc291cmNlRXZlbnQjIiB4bWxuczpkYz0iaHR0cDovL3B1cmwub3JnL2RjL2VsZW1lbnRzLzEuMS8iIHhtbG5zOnBob3Rvc2hvcD0iaHR0cDovL25zLmFkb2JlLmNvbS9waG90b3Nob3AvMS4wLyIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgMjEuMSAoTWFjaW50b3NoKSIgeG1wOkNyZWF0ZURhdGU9IjIwMjAtMTEtMjZUMTE6MDE6NTIrMDg6MDAiIHhtcDpNZXRhZGF0YURhdGU9IjIwMjAtMTEtMjZUMTE6MDE6NTIrMDg6MDAiIHhtcDpNb2RpZnlEYXRlPSIyMDIwLTExLTI2VDExOjAxOjUyKzA4OjAwIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOmEwZDRkMTJhLWRhMzQtNGFiMC1iMWNhLWZhYjRlZDc1NDJkZCIgeG1wTU06RG9jdW1lbnRJRD0iYWRvYmU6ZG9jaWQ6cGhvdG9zaG9wOjM3MDg2OGJlLWM1ODItZjY0Mi04MTE4LTM2NjM3NjJkYmE2ZiIgeG1wTU06T3JpZ2luYWxEb2N1bWVudElEPSJ4bXAuZGlkOjgxNWZmMDI4LWNkNTAtNGNmYy04Y2YwLTAyYjA5MDA3Y2QyZCIgZGM6Zm9ybWF0PSJpbWFnZS9wbmciIHBob3Rvc2hvcDpDb2xvck1vZGU9IjMiIHBob3Rvc2hvcDpJQ0NQcm9maWxlPSJBZG9iZSBSR0IgKDE5OTgpIj4gPHhtcE1NOkhpc3Rvcnk+IDxyZGY6U2VxPiA8cmRmOmxpIHN0RXZ0OmFjdGlvbj0iY3JlYXRlZCIgc3RFdnQ6aW5zdGFuY2VJRD0ieG1wLmlpZDo4MTVmZjAyOC1jZDUwLTRjZmMtOGNmMC0wMmIwOTAwN2NkMmQiIHN0RXZ0OndoZW49IjIwMjAtMTEtMjZUMTE6MDE6NTIrMDg6MDAiIHN0RXZ0OnNvZnR3YXJlQWdlbnQ9IkFkb2JlIFBob3Rvc2hvcCAyMS4xIChNYWNpbnRvc2gpIi8+IDxyZGY6bGkgc3RFdnQ6YWN0aW9uPSJzYXZlZCIgc3RFdnQ6aW5zdGFuY2VJRD0ieG1wLmlpZDphMGQ0ZDEyYS1kYTM0LTRhYjAtYjFjYS1mYWI0ZWQ3NTQyZGQiIHN0RXZ0OndoZW49IjIwMjAtMTEtMjZUMTE6MDE6NTIrMDg6MDAiIHN0RXZ0OnNvZnR3YXJlQWdlbnQ9IkFkb2JlIFBob3Rvc2hvcCAyMS4xIChNYWNpbnRvc2gpIiBzdEV2dDpjaGFuZ2VkPSIvIi8+IDwvcmRmOlNlcT4gPC94bXBNTTpIaXN0b3J5PiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/Pg2PFkwAAAKLSURBVEiJ7ZU/TBNRHMdfrwJ9xSMY6IZASb02KScnhGPwCEodiBIbiEsxUKBUyr/CVBJwwSCumMiKgQQmIbEwYDDpQFtbTCnBVLgrqZiaNCBNWHon2LvncEaikwsmJvcd3ku+7/e+n+Gbl6dCCIGLFHah6QpAASgABfB3uiRv74JBUZLUGHa1tLSkpAQAIAjCdjSayWSuEURZWZk8lkwmOZbVQFhdXQ0hDIdC37NZ+aioqMhkMn2MxVKpVLFOR5KkWq0GAACEEEKoy27vc7mCgcCNqqqlpaWvR0e3GhparNZht/t6ZeXc3BxCaHFhgTSb3UNDrS0tDfX1iUTC3tHh9XoJg4Hd2+vu7Hw5O/vQZjs5Oemy2x+Pj8vJPwF9Lteox4MQ6nU6Rz2eZ1NTj3p6RFFECIXDYdJsTqfTVSS5sbGBEJIkaaC//8nEBM/z4VCIMBgQQjzPj4+N3Wls3N/fT6VSb9fX5eTzDj4lEitebywWu2+1xjnutsWCYRgAgKbp3NzcrUhEkiSGYQAAKpWq0WLhOA5C+Os6hNDW1oap1XebmnqdThzHZf8ccBnHOY6DWm1NTY2+oiIYCMj+h50dQRAoigIAbEUishn0+yv0+j/6TB8fLywuvl5Z0ebnP52c/K3ks7OzK4WFwyMjb9bWnk9PdzscD1pbO9rb9eXlq6urA4ODxTrdkNvd43Dca27+kkzu7u6+Wl4GAJyensprXl6ez+ebn59/MTNTV1fHsqycrJK/TJ/Pl5OTwzCM3+//Jgg3GSabzb7f3MzwvJEgCKNRnuZYluU4LYS1NF1QUAAAiMfjnw8OKIoq1ulEUYxGo0eHhziO19K0RqM5B1yc/v+XrAAUgAL4B4Af1PUmKPHDoS8AAAAASUVORK5CYII=\""],"sourceRoot":""}